{% set data = load_data(path="static/schedule.toml") %}
<style>
  .grid-container {
    display: grid;
    overflow: auto;
  }

  .week-day {
    display: flex;
    min-width: 120px;
    padding: 10px;
    text-align: center;
    background-color: #f9bebe;
    border: 1px solid var(--primary-text-color);
    span {
        flex-grow: 1;
        align-self: center;
        
    }
}

  .day-row {
    display: flex;
    justify-content: space-around;
  }

  .activity {
    display: flex;
    flex: 1 1 0;
    text-align: center;
    padding: 10px;
    background-color: #ffd684;
    border: 1px solid var(--iol-yellow);
    span {
        flex-grow: 1;
        align-self: center;
        
    }
  }
</style>

<div class="grid-container">
  {% for day in data.days %}
  <div class="day-row">
    <div class="week-day" style="width: 100%">
    <span>{{ day.weekday }}, {{ day.name }}</span>
    </div>
  </div>

  {% set dayManha = day.activities | filter(attribute="periodTime", value="Manhã") %}
  {% if dayManha | length > 0 %}
    <div style="display: flex; flex-direction: row;">
      <div class="week-day"><span>Manhã</span></div>
      <div style="flex: 1">
        {% for activity in dayManha %}
          <div class="day-row" >
            <div class="activity" >
              <span>
                {{ activity.name | safe }}
                {% if activity.who %}
                <br><small> {{ activity.who | safe }} </small>
                {% endif %}
              </span>
            </div>
          </div>
        {% endfor %}
      </div>
      </div>
    {% endif %}
           
  {% set dayTarde = day.activities | filter(attribute="periodTime", value="Tarde") %}
  {% if dayTarde | length > 0 %}
  <div style="display: flex; flex-direction: row;">
    <div class="week-day"><span>Tarde</span></div>
    <div style="flex: 1">
      {% for activity in dayTarde %}
        <div class="day-row" >
          <div class="activity">
            <span>
              {{ activity.name | safe }}
              {% if activity.who %}
              <br><small> {{ activity.who | safe }} </small>
              {% endif %}
            </span>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
  {% endif %}

  {% endfor %}
</div>
